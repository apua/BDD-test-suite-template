*** Settings ***
Resource    ${CURDIR}/../resources/config/env_setup.txt
Resource    ${CURDIR}/../resources/fixtures/fixture_and_faker.txt
Resource    ${CURDIR}/../resources/selenium_wrapper.txt

*** Test Cases ***
L2ADD Provision (Latest L2ADD)
    [Tags]  fast   l2add
    Go To Edit Test Plan Page
    Open Directory  Provisioning
    Add Snippet     L2ADD Provision
    Click Dropdown List Of Ckey L2Add_auto_server
    Select List Item "${hw[12]['name']}" From L2Add_auto_server
    Click Dropdown List Of Ckey os_plan
    Select List Item "RH70x64" From os_plan
    Click Dropdown List Of Ckey os_path
    Select List Item "http://10.30.250.30/deployment/Gen9/Snap6/OS/rhel70-x64" From os_path
    Click Save In Ckey Window
    Verify Snippet L2ADD Provision Added In Test Layout Order 1
    Verify Snippet In Order 1 Status Should Be "Ready to Submit"
    Click Add SUT In SUT Section
    Pick SUT    ${hw[1]['name']}
    Verify SUT Show Up In SUT Section Row 1 With Correct Data ${hw[1]}
    ${job id}=    Submit Job From Edit Test Plan Page
    Monitor Job ${job id} Status Should Be pass In 2400 Seconds

L2ADD Provision OS+SPP (2nd latest L2ADD)
    [Tags]  toft2   l2add
    Go To Edit Test Plan Page
    Open Directory  Provisioning
    Add Snippet     L2ADD Provision
    Click Dropdown List Of Ckey L2Add_auto_server
    Select List Item "${hw[13]['name']}" From L2Add_auto_server
    Click Dropdown List Of Ckey os_plan
    Select List Item "Win2012_R2_STD_x64" From os_plan
    Click Dropdown List Of Ckey os_path
    Select List Item "\\\\10.30.250.30\\deployment\\Gen9\\Snap6\\OS\\win2012r2-x64-en_us" From os_path
    Click Dropdown List Of Ckey spp_path
    Select List Item "http://10.30.250.30/deployment/Gen9/Snap6/SPP/SPPGen9Snap5.2015_1030.47.iso" From spp_path
    Click Save In Ckey Window
    Verify Snippet L2ADD Provision Added In Test Layout Order 1
    Verify Snippet In Order 1 Status Should Be "Ready to Submit"
    Click Add SUT In SUT Section
    Pick SUT    ${hw[1]['name']}
    Verify SUT Show Up In SUT Section Row 1 With Correct Data ${hw[1]}
    ${job id}=    Submit Job From Edit Test Plan Page
    Monitor Job ${job id} Status Should Be pass In 3000 Seconds
