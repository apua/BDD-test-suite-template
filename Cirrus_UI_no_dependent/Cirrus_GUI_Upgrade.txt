# pybot cmd:
#   pybot -v VM:cirrus-ci -v TO_VERSION:1.11.4 -v UPGRADE_FILE:cirrus-fullupdate-1.11.3-1.11.4-20160323092543.bin Cirrus_GUI_Upgrade.txt
*** Settings ***
Resource    ${CURDIR}/../resources/config/env_setup.txt
Resource    ${CURDIR}/../resources/fixtures/fixture_and_faker.txt
Resource    ${CURDIR}/../resources/selenium_wrapper.txt

*** Test Cases ***
Upgrade File
    [Tags]      upgrade
    ${token}=    Get Cookie Value    token
    Import Library      CirrusLibrary
    ${result}=   Upload Bin File By REST     ${CIRRUS_IP}      ${token}       ${TO_VERSION}      ${UPGRADE_FILE}
    Go To Settings Page
    Select Upgrade Appliance
    Continue Upgrade Appliance    ${TO_VERSION}      ${UPGRADE_FILE}
    Accept EULA After Upgrade
    Wait Upgrade Complete
    Go To Settings Page
    Confirm Upgrade To ${TO_VERSION} Successful
    [Teardown]  Run Keyword If Test Passed  Teardown: Test Passed And Delete VM     ${VM}
