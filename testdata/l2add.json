{
  "info": {
      "desc": "L2ADD Provision",
      "login_name": "administrator",
      "name" : "L2ADD Provision"
  },
  "configure": {
    "agent_online": false
  },
  "suts": {
    "L2Add_server": {
        "cirrus_flags": ["unregistered"],
        "name": "l2add",
        "type": "l2_add",
        "desc": "",
        "sys_ip": "10.30.250.24",
        "sys_username": "root",
        "sys_password": "Compaq123",
        "os_dir": "http://10.30.250.30/deployment",
        "owner": "administrator",
        "owner_type": "users",
        "inventory_interval": "0",
        "inventory_limit": "no inventory",
        "inventory_override": "false",
        "inventory_type": "Global",
        "pause_inventory": "false"
    },
    "sut": {
        "cirrus_flags": ["unregistered"],
        "name": "ilo123",
        "type": "ilo",
        "desc": "",
        "ilo_ip": "10.30.1.123",
        "ilo_user": "Administrator",
        "ilo_password": "Compaq123",
        "mac_add": "9c:b6:54:b3:7a:4d",
        "nic_id": "2",
        "boot_mode": "UEFI",
        "owner": "administrator",
        "owner_type": "users",
        "inventory_interval": "0",
        "inventory_limit": "no inventory",
        "inventory_override": "false",
        "inventory_type": "Global",
        "pause_inventory": "false"
    }
  },
  "stages": {
      "L2ADD Provision": {
          "target": "L2Add_server",
          "stage_sut": "sut",
          "next_pass": "Update HWDB",
          "next_fail": "_quit",
          "action": {
              "cirrus_module": "l2add",
              "L2Add_ip": "${suts.L2Add_server.sys_ip}",
              "L2Add_username": "${suts.L2Add_server.sys_username}",
              "L2Add_pw": "${suts.L2Add_server.sys_password}",
              "setting": {
                    "CONFIG": {
                      "NODES": {
                        "NODE": {
                          "BOOTMODE": ["uefi"],
                          "SPP": {
                            "FLASH_FIRMWARE": ["no"],
                            "INSTALL": "no",
                             "ISO_PATH": [""]
                          },
                          "ILO": {
                            "IP": "${suts.sut.ilo_ip}",
                            "PWD": "${suts.sut.ilo_password}",
                            "USER": "${suts.sut.ilo_user}"
                          },
                          "HOSTNAME": "${suts.sut.name}",
                          "MACADDR": "${suts.sut.mac_add}",
                          "CUSTOM_SCRIPT": "",
                          "KICKSTART": "",
                          "STG_DD_PATH": [""],
                          "KISO_PATH": [""],
                          "NIC_DD_PATH": [""],
                          "TEAM": ["CSI-Other"],
                          "NIC_ID": "${suts.sut.nic_id}",
                          "SYSBUILDER": {
                                "SITE_LOCATION": ["HOUSTON"],
                                "INSTALL": ["no"],
                                "CORP_NIC_ID": "2"
                          }
                        }
                      },
                      "OS": [" RH70x64"],
                      "OS_PATH": ["http://10.30.250.30/deployment/rhel70-x64"]
                    }
            }
        }
    },
      "Update HWDB": {
          "target": "${cirrus}",
          "stage_sut": "sut",
          "next_pass": "_quit",
          "next_fail": "_quit",
          "action": {
              "cirrus_module": "hwdb",
              "source": "${dynamic.${stages.Update HWDB.stage_sut}.hwdb}",
              "cirrus_mode": "run"
          }
      }
   }
}

